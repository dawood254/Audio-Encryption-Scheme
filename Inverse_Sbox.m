clear all;close all;clc;
xx=[85	171	138	147	191	40	180	148	49	153	137	118	225	144	134	173;
43	37	150	108	94	209	156	175	52	236	26	29	30	187	99	116;
28	188	80	14	131	151	115	65	255	60	31	0	9	81	157	234;
182	45	55	39	91	93	230	186	244	162	198	89	122	232	57	207;
206	203	130	33	181	103	161	5	22	114	211	16	189	11	117	18;
250	10	210	245	237	102	125	216	129	36	242	111	185	213	193	58;
38	63	6	24	254	167	201	19	34	124	73	35	92	190	4	17;
83	112	53	152	179	97	183	87	196	249	88	136	79	195	42	159;
109	82	192	71	252	41	238	170	84	141	23	50	239	199	240	98;
77	101	142	27	96	132	56	74	123	158	100	200	140	64	253	215;
217	48	106	164	154	155	90	160	113	70	176	25	246	44	67	62;
66	163	126	166	76	20	3	78	32	227	248	135	68	72	165	178;
110	149	243	218	224	12	233	105	139	228	1	168	241	146	222	121;
119	107	177	202	127	47	251	204	120	231	226	59	46	15	184	169;
86	220	69	212	54	247	194	145	104	21	197	95	143	221	133	8;
172	214	229	75	51	7	219	174	208	205	2	13	235	128	223	61];
Box=xx';
A=zeros(16,16);
for j=1:256;
for i=1:256;
    if Box(i)==j-1;
        A(:,j)=i;
%     else A(:,j)=0;
    end
end
end
sbox=A(1,:);
invsbox=reshape(mod(sbox,256),16,16);
%     if Box(i)==1;
%         A(2)=i;
%     end
% end
% for i=1:256;
%     if i~=A(1)  & i~=A(2);
% A(Box(i))=i+1;
%     end
% end
O=A;






B=imread('Substituted pepper.png');
df=uint8(subt(Substitution,invsbox))
      